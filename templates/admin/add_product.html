{% extends "admin/base_admin.html" %}
{% block content %}
    <div class="admin-header">
        <h1><i class="fas fa-plus-circle"></i> Добавить товар</h1>
        <a href="{{ url_for('admin_products') }}" class="btn btn-secondary"> 
            <i class="fas fa-arrow-left"></i> Назад
        </a>
    </div>

    {# Вывод ошибок формы #}
    {% for field, errors in form.errors.items() %}
      {% for error in errors %}
        <div class="alert alert-danger">{{ form[field].label.text }}: {{ error }}</div>
      {% endfor %}
    {% endfor %}

    <form method="POST" enctype="multipart/form-data" class="admin-form">
        <div class="form-group">
            <label>Название товара</label>
            <input type="text" name="name" class="form-control" required>
        </div>
        <div class="form-group">
            <label>Описание</label>
            <textarea name="description" class="form-control" rows="4"></textarea>
        </div>
        <div class="form-group">
            <label>Цена ($)</label>
            <input type="number" name="price" class="form-control" step="0.01" required>
        </div>
        <div class="form-group">
            <label>Изображение</label>
            <input type="file" name="image" class="form-control-file" required>
        </div>
        <button type="submit" class="btn btn-primary">
            <i class="fas fa-save"></i> Сохранить
        </button>
    </form>
{% endblock %}